<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Local testing of email with Mailtrap - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="Local testing of email with Mailtrap">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://account.perchcms.com">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link selected"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li><a href="/video/">Video</a></li>
        <li><a href="/templates/">Template Reference</a></li>
        <li><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
    <ul class="sidenav">
                        <li>
                            <a href="/perch/getting-started/">Getting Started With Perch</a>
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/configuration/">Configuration</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/building/">Building Sites with Perch</a>
                            <ul>    <li>
                            <a href="/perch/building/hosts/">Webhosts</a>
                             
                             
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/how-do-i-create-a-multilingual-site/">Create a multilingual site</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/integrations/">Integrations</a>
                             
                             
                             
                             
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/servers/">Servers</a>
                            <ul>    <li>
                            <a href="/perch/building/servers/email-testing-with-mailtrap/" class="selected">Local testing of email with Mailtrap</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/servers/how-do-i-get-started-with-php/">Getting Started with PHP</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/servers/how-do-i-move-a-perch-site/">How do I move a Perch site?</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/servers/installing-a-local-server-with-xampp/">Installing XAMPP for local development</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/servers/multiple-server-config/">Multiple Server Config Files</a>
                        </li>
                    </ul>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/troubleshooting/">Troubleshooting</a>
                             
                             
                             
                             
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/updating/">Updating Perch</a>
                             
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/building/working-with-front-controllers/">Working with Front Controllers</a>
                        </li>
                    </ul>
                        </li>
                        <li>
                            <a href="/perch/categories/">Categories</a>
                             
                        </li>
                        <li>
                            <a href="/perch/content/">Working with Content</a>
                             
                             
                        </li>
                        <li>
                            <a href="/perch/control-panel/">The Perch Control Panel</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/help/">Troubleshooting Tips</a>
                        </li>
                        <li>
                            <a href="/perch/pages-and-nav/">Pages and Navigation</a>
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/resources/">Managing Resources</a>
                             
                        </li>
                        <li>
                            <a href="/perch/upgrading/">Upgrading to Perch 3</a>
                        </li>
    </ul>  </nav>

<article class="content">


  <h1>Local testing of email with Mailtrap</h1>

  <p><strong>Using Perch with Mailtrap for local email testing</strong></p>
<p>During development on a local server testing forms and email can be tricky. This solution explains how to integrate the service Mailtrap with Perch.</p>
<p><a href="https://mailtrap.io">Mailtrap</a> is a service that can capture all emails send from your application, allowing you to test form to email scripts and other integrations without needing to set up and configure a local mail server. It’s really easy to use Mailtrap with Perch.</p>
<p>Create your <a href="https://mailtrap.io">mailtrap</a> account. You can sign up for a free single user account using your GitHub or Google credentials or create an account with an email address and password.</p>
<p>Once you have created your account click on the Inbox that has been created. To integrate Mailtrap with Perch you’ll need the Host, Username and Password listed under SMTP.</p>
<p>Open your Perch <code>config/config.php</code> in a text editor and add the following details, replacing <code>mailtrap_host</code>, <code>mailtrap_username</code> and <code>mailtrap_password</code> with your settings.</p>
<pre><code class="lang-php">    define(&#39;PERCH_EMAIL_METHOD&#39;, &#39;smtp&#39;);
    define(&#39;PERCH_EMAIL_HOST&#39;, &#39;mailtrap_host&#39;);
    define(&#39;PERCH_EMAIL_SECURE&#39;, &#39;tls&#39;);
    define(&#39;PERCH_EMAIL_AUTH&#39;, true);
    define(&#39;PERCH_EMAIL_PORT&#39;, 2525);
    define(&#39;PERCH_EMAIL_USERNAME&#39;, &#39;mailtrap_username&#39;);
    define(&#39;PERCH_EMAIL_PASSWORD&#39;, &#39;mailtrap_password&#39;);
</code></pre>
<p>You can test to see if your integration is working by going to - Settings &gt; Email in Perch and sending the test email. It should be caught by Mailtrap and show up in your inbox.</p>
<p>Now any email that Perch sends will show up in Mailtrap making it easier to test your forms.</p>
<p>Mailtrap is also a good way to test that email is leaving your server, and to check for other deliverability issues. If you think Perch is not sending emails, switching to using Mailtrap’s SMTP server will ensure that all mail is delivered directly to Mailtrap. If Mailtrap gets the email then you should be able to set up another SMTP server - using the Google SMTP settings for example - in its place.</p>
<p>Once you have received an email in Mailtrap you can click on it, see the contents and also check it for common deliverability issues by clicking the Analysis tab. Most reported email issues in Perch support are nothing to do with Perch or PHP sending email - the email is being sent but is getting caught by filters after leaving your server,</p>
<p>When you go live, you will need to remember to change those details for your live mail server details, or just remove them if PHP can send mail from your server without additional configuration. You could also add the details to a block in your config file following this solution for <a href="/perch/building/servers/multiple-server-config">creating Config Files that work on multiple servers</a>.</p>

</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>
