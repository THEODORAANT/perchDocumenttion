<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>perch_post() - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="perch_post()">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://account.perchcms.com">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li><a href="/video/">Video</a></li>
        <li><a href="/templates/">Template Reference</a></li>
        <li class="selected"><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
    <ul class="sidenav">
                        <li>
                            <a href="/functions/announcements/">Announcements</a>
                             
                             
                        </li>
                        <li>
                            <a href="/functions/blog/">Blog</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/categories/">Categories Functions</a>
                             
                             
                        </li>
                        <li>
                            <a href="/functions/collections/">Collection functions</a>
                             
                        </li>
                        <li>
                            <a href="/functions/comments/">Comments</a>
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/content/">Content functions</a>
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/events/">Events</a>
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/form/">Form</a>
                             
                             
                        </li>
                        <li>
                            <a href="/functions/gallery/">Gallery</a>
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/layouts/">Layout Functions</a>
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/listings/">Listings</a>
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/mailchimp/">Mailchimp</a>
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/members/">Members</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/navigation/">Navigation &amp; Page Functions</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/page-attributes/">Page Attributes</a>
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/podcasts/">Podcasts</a>
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/search/">Search Functions</a>
                             
                             
                        </li>
                        <li>
                            <a href="/functions/shop-foxycart/">Foxycart (deprecated)</a>
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/shop-paypal/">PayPal Shop (deprecated)</a>
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/shop/">Shop</a>
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/twitter/">Twitter</a>
                             
                             
                             
                        </li>
                        <li>
                            <a href="/functions/utilities/">Utility Functions</a>
                            <ul>    <li>
                            <a href="/functions/utilities/perch-get/">perch_get()</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/functions/utilities/perch-post/" class="selected">perch_post()</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/functions/utilities/perch-template/">Rendering Templates</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/functions/utilities/perchsystem/">PerchSystem</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/functions/utilities/perchutil/">PerchUtil</a>
                        </li>
                    </ul>
                        </li>
    </ul>  </nav>

<article class="content">


  <h1>perch_post()</h1>

  <p>The <code>perch_post()</code> function does the same job as <code>$_POST</code> in PHP, but has some convenient safeguards and options built in.</p>
<p>PHP has a standard way to read values from POST requests. If you’ve done any PHP development, you’ll be familiar with using something like <code>$_POST[&#39;message&#39;]</code> to read a value from a POST request.</p>
<p>You can do that in Perch, too. However, <code>$_POST</code> can be hard to use, because if you try to read in a value that hasn’t been set, PHP will throw an error. This means you need to test for it being set, and decide whether to read it or not. To make life easier, Perch has <code>perch_post()</code>.</p>
<h2 id="parameters">Parameters</h2>
<table>
<thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>String</td>
<td>The array element index to look for in <code>$_POST</code></td>
</tr>
<tr>
<td>String</td>
<td>A default value to use if the array element in <code>$_POST</code> is empty or not set</td>
</tr>
</tbody>
</table>
<h2 id="usage-examples">Usage examples</h2>
<p>If we have a HTML form with <code>method=&quot;post&quot;</code>:</p>
<pre><code class="lang-html">&lt;form action=&quot;contact.php&quot; method=&quot;post&quot;&gt;
    &lt;label for=&quot;visitor_name&quot;&gt;Name&lt;/label&gt;
    &lt;input type=&quot;text&quot; name=&quot;visitor_name&quot; id=&quot;visitor_name&quot;&gt;
    &lt;input type=&quot;submit&quot;&gt;
&lt;/form&gt;
</code></pre>
<p>We can get the value of the submitted field <code>visitor_name</code> using <code>perch_post()</code>:</p>
<pre><code class="lang-php">$name = perch_post(&#39;visitor_name&#39;);
</code></pre>
<p>If we want to set the name to “Anonymous” if there is no <code>visitor_name</code> value, we can use:</p>
<pre><code class="lang-php">$name = perch_post(&#39;visitor_name&#39;, &#39;Anonymous&#39;);
</code></pre>
<p>By default, the function returns <code>false</code> if it cannot find the submitted value. This means we can use it in conditional statements:</p>
<pre><code class="lang-php">if(perch_post(&#39;agree_terms&#39;)) {
    // only process data if user agrees to terms
}
</code></pre>

</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>
