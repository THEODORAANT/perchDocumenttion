<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>The perch_content_custom function - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="The perch_content_custom function">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://grabaperch.com/account">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li class="selected"><a href="/video/">Video</a></li>
        <li><a href="/templates/">Template Reference</a></li>
        <li><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
      <ul class="sidenav">
          <li>
              <a href="/video/getting-started/" class="selected">Getting Started</a>

                <ul class="video-nav">
                  <li>
                      <a href="/video/v3/getting-started">Getting Started</a>
                      <span class="badge">1:28</span>
                  </li>
                  <li>
                      <a href="/video/v3/installing-perch">Installing Perch</a>
                      <span class="badge">2:56</span>
                  </li>
                  <li>
                      <a href="/video/v3/editing-content">Editing Content</a>
                      <span class="badge">4:02</span>
                  </li>
                  <li>
                      <a href="/video/v3/creating-a-template">Creating a Template</a>
                      <span class="badge">8:41</span>
                  </li>
                  <li>
                      <a href="/video/v3/required-fields-conditionals">Required Fields and Conditionals</a>
                      <span class="badge">2:41</span>
                  </li>
                  <li>
                      <a href="/video/v3/creating-pages">Creating Pages</a>
                      <span class="badge">8:34</span>
                  </li>
                  <li>
                      <a href="/video/v3/contact-details">A contact details template</a>
                      <span class="badge">7:01</span>
                  </li>
                  <li>
                      <a href="/video/v3/shared-regions">Shared Regions</a>
                      <span class="badge">2:03</span>
                  </li>
                  <li>
                      <a href="/video/v3/google-map">A Google Map</a>
                      <span class="badge">3:58</span>
                  </li>
                  <li>
                      <a href="/video/v3/contact-form">A Contact Form</a>
                      <span class="badge">9:20</span>
                  </li>
                  <li>
                      <a href="/video/v3/form-error-messaging">Contact Form Error Messaging</a>
                      <span class="badge">6:17</span>
                  </li>
                  <li>
                      <a href="/video/v3/repeating-regions">Repeating Regions</a>
                      <span class="badge">5:32</span>
                  </li>
                  <li>
                      <a href="/video/v3/perch-repeaters">Perch Repeaters</a>
                      <span class="badge">5:04</span>
                  </li>
                  <li class="selected">
                      <a href="/video/v3/perch-content-custom">The perch_content_custom function</a>
                      <span class="badge">6:47</span>
                  </li>
                </ul>

          </li>
          <li>
              <a href="/video/blog/">Perch Blog</a>
          </li>
          <li>
              <a href="/video/runway/">Perch Runway</a>
          </li>
      </ul>
    </nav>

<article class="content">

  <h1>The perch_content_custom function</h1>

  <div class="video-wrapper">
    <div class="flex-video widescreen">
      <iframe src="https://www.youtube-nocookie.com/embed/ymLwez-ZdIA?showinfo=0&amp;rel=0" frameborder="0" allow="encrypted-media" gesture="media" allowfullscreen class="embed-responsive-item" width="847" height="476"></iframe>
    </div>
  </div>

  <div class="video-detail">
    <div class="inner-panel">
        <p>On our home page there are a couple of testimonials. Something you might like to do is have a whole list of testimonials, and display two at random on the home page.</p>
<p>I start by creating a Testimonials page which lists testimonials. This is regular Perch Content, set as a Repeating Region and using the below template, saved as <code>perch/templates/content/testimonial.html</code>.</p>
<pre><code class="lang-html">&lt;div class=&quot;article&quot;&gt;
    &lt;h3 class=&quot;fn n&quot;&gt;
        &lt;span class=&quot;given-name&quot;&gt;&lt;perch:content id=&quot;givenname&quot; type=&quot;text&quot; label=&quot;Given name&quot; required title&gt;&lt;/span&gt;
        &lt;span class=&quot;family-name&quot;&gt;&lt;perch:content id=&quot;familyname&quot; type=&quot;text&quot; label=&quot;Family name&quot; required title&gt;&lt;/span&gt;
    &lt;/h3&gt;
    &lt;p class=&quot;meta role&quot;&gt;&lt;perch:content id=&quot;role&quot; type=&quot;text&quot; label=&quot;Role and Company&quot; required&gt;&lt;/p&gt;


    &lt;blockquote class=&quot;description&quot;&gt;
        &lt;perch:content id=&quot;quote&quot; type=&quot;textarea&quot; label=&quot;Quote&quot; textile editor=&quot;markitup&quot; required&gt;
    &lt;/blockquote&gt;
&lt;/div&gt;
</code></pre>
<p>Having added a few testimonials you can then display them on the homepage - two at a time selected at random - using a different template.</p>
<p>The homepage template is <code>perch/templates/content/_home_testimonial.html</code>. You can see the complete template below. It needs to use fields that exist in the main template for this content, so be sure to copy them correctly. By starting the template with an underscore it is hidden from the template list when setting up a new region.</p>
<pre><code class="lang-html">&lt;div class=&quot;testimonial&quot;&gt;
    &lt;blockquote&gt;
        &lt;perch:content id=&quot;quote&quot; type=&quot;textarea&quot; label=&quot;Quote&quot; textile editor=&quot;markitup&quot; required&gt;
    &lt;/blockquote&gt;
    &lt;p class=&quot;byline&quot;&gt;&lt;perch:content id=&quot;givenname&quot; type=&quot;text&quot; label=&quot;Given name&quot; required title&gt; &lt;perch:content id=&quot;familyname&quot; type=&quot;text&quot; label=&quot;Family name&quot; required title&gt;, &lt;perch:content id=&quot;role&quot; type=&quot;text&quot; label=&quot;Role and Company&quot; required&gt;&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>To display our content using this template we will use the <code>perch_content_custom()</code> function. It allows you to get some Perch Content and do more processing on it.</p>
<p>The function takes the name of the region we want the content from and also an array. Inside the square brackets which denote an arrat we have a set of options and values. You can see all of the possibilities in the documentation for <code>perch_content_custom()</code>. In our case we pass in the page the region is on, the template we want to use, a value from the template to sort on, the <code>sort-order</code> which is <code>RAND</code> for random, and a count of 2.</p>
<pre><code class="lang-php">&lt;?php perch_content_custom(&#39;Testimonials&#39;,[
  &#39;page&#39; =&gt; &#39;/testimonials.php&#39;,
    &#39;template&#39; =&gt; &#39;_home_testimonial.html&#39;,
    &#39;sort&#39; =&gt; &#39;familyname&#39;,
    &#39;sort-order&#39; =&gt; &#39;RAND&#39;,
    &#39;count&#39; =&gt; 2
]); ?&gt;
</code></pre>
<p>This kind of set up and array with options and values is pretty much all of the PHP that you need to do for Perch, you’ll see the same kind of syntax for other <code>_custom</code> functions such as <code>perch_blog_custom</code>.</p>



        <ul class="pagination-pointed pagination text-center" role="navigation" aria-label="Pagination">
            <li class="pagination-previous">
              <a class="pagination-pointed-button" href="/video/v3/perch-repeaters" aria-label="Previous video">
                Previous<span class="show-for-sr"> video</span>
              </a>
            </li>
        </ul>

    </div>
    
  </div>




  
</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>