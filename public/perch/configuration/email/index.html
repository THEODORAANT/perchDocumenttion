<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Email Configuration - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="Email Configuration">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://account.perchcms.com">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link selected"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li><a href="/video/">Video</a></li>
        <li><a href="/templates/">Template Reference</a></li>
        <li><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
    <ul class="sidenav">
                        <li>
                            <a href="/perch/getting-started/">Getting Started With Perch</a>
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/configuration/">Configuration</a>
                            <ul>    <li>
                            <a href="/perch/configuration/database/">Database Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/dates/">Time and Date Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/debug/">Enabling Debug</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/email/" class="selected">Email Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/file/">File Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/images/">Image Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/markup/">Markup Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/path/">Path Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/perch/">Perch Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/security/">Security Configuration</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/configuration/ssl/">SSL Configuration</a>
                        </li>
                    </ul>
                        </li>
                        <li>
                            <a href="/perch/building/">Building Sites with Perch</a>
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/categories/">Categories</a>
                             
                        </li>
                        <li>
                            <a href="/perch/content/">Working with Content</a>
                             
                             
                        </li>
                        <li>
                            <a href="/perch/control-panel/">The Perch Control Panel</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/help/">Troubleshooting Tips</a>
                        </li>
                        <li>
                            <a href="/perch/pages-and-nav/">Pages and Navigation</a>
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/resources/">Managing Resources</a>
                             
                        </li>
                        <li>
                            <a href="/perch/upgrading/">Upgrading to Perch 3</a>
                        </li>
    </ul>  </nav>

<article class="content">


  <h1>Email Configuration</h1>

  <p>To send emails – for example password reset emails – Perch needs to be able to send mail via PHP. Your host may have specific settings you need to use to allow this to happen, or you can send mail via a third party.</p>
<p>The following settings allow you to configure this. If you want to test that your mail configuration is working then log into Perch admin and visit Settings &gt; Email. Here you can send a test email, if you receive the mail then your email is correctly configured. It is a good idea to test this before you need to do a password reset!</p>
<p>If you are not receiving mail then ask your host what you need to do to send mail from PHP, then use the below settings to configure Perch to meet their advice.</p>
<h2 id="email-settings">Email Settings</h2>
<table>
<thead>
<tr>
<th>Setting</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>PERCH_EMAIL_FROM</td>
<td>Default email address to send mail from</td>
</tr>
<tr>
<td>PERCH_EMAIL_FROM_NAME</td>
<td>Default name to send email from</td>
</tr>
<tr>
<td>PERCH_EMAIL_METHOD</td>
<td>mail, smtp, sendmail, api</td>
</tr>
<tr>
<td>PERCH_EMAIL_HOST</td>
<td>Host for SMTP mail</td>
</tr>
<tr>
<td>PERCH_EMAIL_AUTH</td>
<td>True or false. Use authenticated SMTP</td>
</tr>
<tr>
<td>PERCH_EMAIL_PORT</td>
<td>SMTP port. Defaults to 25</td>
</tr>
<tr>
<td>PERCH_EMAIL_USERNAME</td>
<td>Username for authenticated SMTP</td>
</tr>
<tr>
<td>PERCH_EMAIL_PASSWORD</td>
<td>Password for authenticated SMTP</td>
</tr>
<tr>
<td>PERCH_EMAIL_SECURE</td>
<td>SMTP connection method. ssl, tls or an empty string</td>
</tr>
</tbody>
</table>
<p>An example of configuration required to send email via Google’s Gmail SMTP would be as follows:</p>
<pre><code class="lang-php">define(&#39;PERCH_EMAIL_METHOD&#39;, &#39;smtp&#39;);
define(&#39;PERCH_EMAIL_HOST&#39;, &#39;smtp.gmail.com&#39;);
define(&#39;PERCH_EMAIL_AUTH&#39;, true);
define(&#39;PERCH_EMAIL_SECURE&#39;, &#39;ssl&#39;);
define(&#39;PERCH_EMAIL_PORT&#39;, 465);
define(&#39;PERCH_EMAIL_USERNAME&#39;, &#39;your.name@gmail.com&#39;);
define(&#39;PERCH_EMAIL_PASSWORD&#39;, &#39;your gmail password&#39;);
</code></pre>
<h2 id="gmail">Gmail</h2>
<p>If sending through Gmail, you now need to enable <a href="https://www.google.com/settings/security/lesssecureapps">less secure apps settings</a> otherwise you’ll receive a Could Not Authenticate message in Perch.</p>
<h2 id="microsoft-office-365">Microsoft Office 365</h2>
<p>If sending through Office 365, the <code>PERCH_EMAIL_FROM</code> value must match the value of <code>PERCH_EMAIL_USERNAME</code> (your Office 365 email address).</p>
<p>Microsoft may reject sending emails if the <code>PERCH_EMAIL_FROM_NAME</code> is set to an email address.</p>
<h2 id="api-method">Api Method</h2>
<p>If using the API method, Perch will fire the <code>email.send</code> event hook.   You can configure a custom app to listen to the <code>email.send</code> event using the <a href="/api/events/">Perch Event Hook</a> system to handle the email as required.</p>

</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>
