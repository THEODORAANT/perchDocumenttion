<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Creating Pages - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="Creating Pages">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://grabaperch.com/account">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li class="selected"><a href="/video/">Video</a></li>
        <li><a href="/templates/">Template Reference</a></li>
        <li><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
      <ul class="sidenav">
          <li>
              <a href="/video/getting-started/">Getting Started</a>
          </li>
          <li>
              <a href="/video/blog/">Perch Blog</a>
          </li>
          <li>
              <a href="/video/runway/">Perch Runway</a>
          </li>
      </ul>
    </nav>

<article class="content">

  <h1>Creating Pages</h1>

  <div class="video-wrapper">
    <div class="flex-video widescreen">
      <iframe src="https://www.youtube-nocookie.com/embed/CMTxBAB8NP8?showinfo=0&amp;rel=0" frameborder="0" allow="encrypted-media" gesture="media" allowfullscreen class="embed-responsive-item" width="847" height="476"></iframe>
    </div>
  </div>

  <div class="video-detail">
    <div class="inner-panel">
        <h2 id="video-transcript">Video Transcript</h2>
<p>In our simple site I have decided that editors won’t be able to add new pages to the main navigation, however one place they would like to be able to create new pages as they require them is inside the about section. In this video I will create my main about page, and then create a Master Page from which other Pages in the About section can be created.</p>
<p>I have saved my about.html HTML page into a folder <code>/about</code> as <code>/about/index.php</code> and have included Perch on the page – making sure the path to Perch is correct now we are in a subfolder, and added two Perch Regions.</p>
<p>One is for the masthead area, I’ve created a new Perch Template for this that lets the editor add the heading and content as I want to control the mark-up here.</p>
<p>The second region is for the main body of the Page and for this I’m just using the default Perch textarea template. I have already added some content to the page in Perch.</p>
<p>The design allows for subpages in this section, so let’s set this up.</p>
<p>The first thing I need to do is create a Master Page. This is a special kind of full page template which new pages will be based on. We can use our <code>about/index.php</code> as a basis of this.</p>
<p>Save <code>about/index.php</code> into: <code>/perch/templates/pages</code> as <code>about.php</code></p>
<p>You will see that inside <code>/perch/templates/pages</code> there is already a default.php example – this is a simple example Master Page. Open it up as we can copy the relevant tags from it.</p>
<p>Firstly you will see that the runtime include looks a bit different. This is because we don’t know necessarily what our path from root will be when creating a new page so this adds the include from the Server Document Root. Edit your about.php include to use this.</p>
<p>I then replace the word “About” in the title tag with a function that will ensure my new pages get the title given to them by the editor.</p>
<pre><code class="lang-php">&lt;?php perch_pages_title(); ?&gt;
</code></pre>
<p>Finally I need to be able to navigate to these new pages and to do this I need to replace the Navigation with the Perch Navigation function.</p>
<pre><code class="lang-php">&lt;?php perch_pages_navigation(array(  
    &#39;from-path&#39; =&gt; &#39;/about&#39;,  
    &#39;levels&#39;    =&gt; 1));  
?&gt;
</code></pre>
<p>We are working here on a copy of our original about/index.php page – we will want the Navigation to display there as well so add it to that page now too.</p>
<p>Finally we need to make the about section of the site writable by the webserver – this will depend on your hosting configuration but the setting you use for the resources folder in Perch should work.
Now log into Perch admin and select the Master Pages link, here we can set up our master page.</p>
<p>Give it a title that will display in the listing of available pages.
The Copy Region Options setting lets you choose a page in your site where the regions will be copied from. This means that when your editor creates a new page they won’t have to decide what type of content template to use. The regions will already be set up for them and they can just add content. In our case we want to use about/index.php</p>
<p>The next setting lets you choose whether the reference this template (meaning that any changes to the template will be updated on any pages created from it) or copy the template (changes to the template will NOT be reflected on created pages). Generally I want to reference the template so I can keep all pages consistent.</p>
<p>Save the template settings and go back to the main page listing.
I can now add subpages of the about page. They will have the same regions as the about/index.php page that I copied.</p>
<p>If we go back to the site, we can see the new pages appearing in the navigation.</p>



        <ul class="pagination-pointed pagination text-center" role="navigation" aria-label="Pagination">
        </ul>

    </div>
    
  </div>




  
</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>