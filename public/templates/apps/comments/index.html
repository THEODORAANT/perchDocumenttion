<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Comments App - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="Comments App">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://account.perchcms.com">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li><a href="/video/">Video</a></li>
        <li class="selected"><a href="/templates/">Template Reference</a></li>
        <li><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
    <ul class="sidenav">
                        <li>
                            <a href="/templates/core-concepts/">Template Core Concepts</a>
                        </li>
                        <li>
                            <a href="/templates/attributes/">Tag attributes</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/templates/field-types/">Field Types</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/templates/apps/">App Specific Tags</a>
                            <ul>    <li>
                            <a href="/templates/apps/blog/">Perch Blog</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/comments/" class="selected">Comments App</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/events/">Events App</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/gallery/">Gallery App</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/mailchimp/">Mailchimp App</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/members/">Members App</a>
                             
                             
                             
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/podcasts/">Podcasts App</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/shop-foxycart/">Shop FoxyCart App</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/shop-paypal/">Shop PayPal App</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/shop/">Perch Shop</a>
                             
                             
                             
                             
                             
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/templates/apps/twitter/">Twitter App</a>
                        </li>
                    </ul>
                        </li>
                        <li>
                            <a href="/templates/groups/">Field Groups</a>
                        </li>
                        <li>
                            <a href="/templates/blocks/">Blocks Tags</a>
                        </li>
                        <li>
                            <a href="/templates/categories/">Category Tags</a>
                        </li>
                        <li>
                            <a href="/templates/comments/">Template Comments</a>
                        </li>
                        <li>
                            <a href="/templates/conditionals/">Conditional Tags</a>
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/templates/form/">Form Tags</a>
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/templates/includes/">Template Includes</a>
                             
                        </li>
                        <li>
                            <a href="/templates/navigation/">Navigation Tags</a>
                        </li>
                        <li>
                            <a href="/templates/noresults/">No Results Tag</a>
                        </li>
                        <li>
                            <a href="/templates/pagination/">Pagination Tags</a>
                        </li>
                        <li>
                            <a href="/templates/passing-variables-into-templates/">Passing variables into templates</a>
                        </li>
                        <li>
                            <a href="/templates/repeaters/">Repeaters Tags</a>
                        </li>
                        <li>
                            <a href="/templates/search/">Search Tags</a>
                        </li>
                        <li>
                            <a href="/templates/show-all/">Show All Tag</a>
                        </li>
    </ul>  </nav>

<article class="content">


  <h1>Comments App</h1>

  <h2 id="namespaces">Namespaces</h2>
<p>The Perch Comments App uses the namespace <code>perch:comments</code> when displaying comments. Comment forms are Perch Forms and use the <code>perch:forms</code> namespace.</p>
<h2 id="master-templates">Master templates</h2>
<table>
<thead>
<tr>
<th>Template</th>
<th>Used for</th>
</tr>
</thead>
<tbody>
<tr>
<td>comment.html</td>
<td>A comment</td>
</tr>
</tbody>
</table>
<h2 id="default-templates">Default templates</h2>
<table>
<thead>
<tr>
<th>Template</th>
<th>Used for</th>
</tr>
</thead>
<tbody>
<tr>
<td>comment_form.html</td>
<td>A form for collecting new comments</td>
</tr>
</tbody>
</table>
<h2 id="comment-template-ids">Comment template IDs</h2>
<p>By default, an comment template includes the following IDs:</p>
<table>
<thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>commentID</code></td>
<td>The numeric, sequential unique ID for the comment</td>
</tr>
<tr>
<td><code>commentEmail</code></td>
<td>The email address of the commenter</td>
</tr>
<tr>
<td><code>commentURL</code></td>
<td>The URL for the commenter</td>
</tr>
<tr>
<td><code>commentName</code></td>
<td>The commenter’s name</td>
</tr>
<tr>
<td><code>commentDateTime</code></td>
<td>The date and time at which the comment was left</td>
</tr>
<tr>
<td><code>commentHTML</code></td>
<td>The HTML body of the comment</td>
</tr>
</tbody>
</table>
<h2 id="editing-templates">Editing templates</h2>
<p>The default templates are stored inside the <code>perch_comments/templates</code> folder however you should not edit these directly.</p>
<p>To modify templates copy the templates from <code>/perch/addons/apps/perch_comments/templates/comments</code> to <code>/perch/templates/comments</code> and then make your changes.</p>
<p>If a template has the same name in this folder as the template in the <code>perch_comments</code> folder it will be used rather than the default. You can also create your own templates with any name you like and pass in the name of the template in the function’s options array.</p>
<h2 id="usage-examples">Usage examples</h2>
<p>The Comments app has two main templates – the comment form, and the comment list.</p>
<h3 id="a-comments-form">A Comments Form</h3>
<p>The comment form should be a Perch form, and must have an <code>id</code> of <code>comment</code> to be processed. Tags used for the form elements are defined in the <a href="/templates/form/"><code>perch:form</code> template documentation</a>.</p>
<pre><code class="lang-html">&lt;perch:form id=&quot;comment&quot; method=&quot;post&quot; app=&quot;perch_comments&quot;&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;Leave a comment&lt;/legend&gt;
    &lt;div&gt;
      &lt;perch:label for=&quot;commentName&quot;&gt;Name&lt;/perch:label&gt;
      &lt;perch:input type=&quot;text&quot; id=&quot;commentName&quot; required label=&quot;Name&quot; antispam=&quot;name&quot;&gt;
      &lt;perch:error for=&quot;commentName&quot; type=&quot;required&quot;&gt;Required&lt;/perch:error&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;perch:label for=&quot;commentEmail&quot;&gt;Email&lt;/perch:label&gt;
      &lt;perch:input type=&quot;email&quot; id=&quot;commentEmail&quot; required label=&quot;Email&quot; antispam=&quot;email&quot;&gt;
      &lt;perch:error for=&quot;commentEmail&quot; type=&quot;required&quot;&gt;Required&lt;/perch:error&gt;
      &lt;perch:error for=&quot;commentEmail&quot; type=&quot;format&quot;&gt;Check format of address&lt;/perch:error&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;perch:label for=&quot;commentURL&quot;&gt;Website&lt;/perch:label&gt;
      &lt;perch:input type=&quot;url&quot; id=&quot;commentURL&quot; placeholder=&quot;http://&quot; label=&quot;URL&quot; antispam=&quot;url&quot;&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;perch:label for=&quot;commentHTML&quot;&gt;Comment&lt;/perch:label&gt;
      &lt;perch:input type=&quot;textarea&quot; id=&quot;commentHTML&quot; required label=&quot;Message&quot; antispam=&quot;body&quot;&gt;
      &lt;perch:error for=&quot;commentHTML&quot; type=&quot;required&quot;&gt;Required&lt;/perch:error&gt;
    &lt;/div&gt;
    &lt;div&gt;
      &lt;perch:input type=&quot;hidden&quot; id=&quot;parentID&quot; value=&quot;&lt;perch:comments id=&quot;parentID&quot;&gt;&quot;&gt;
      &lt;perch:input type=&quot;hidden&quot; id=&quot;parentTitle&quot; value=&quot;&lt;perch:comments id=&quot;parentTitle&quot;&gt;&quot;&gt;
      &lt;perch:input type=&quot;submit&quot; id=&quot;submitComment&quot; value=&quot;Submit&quot;&gt;
    &lt;/div&gt;
  &lt;/fieldset&gt;
  &lt;perch:success&gt;
    &lt;p&gt;Thank you. Your comment has been submitted and will appear on the site once approved.&lt;/p&gt;
  &lt;/perch:success&gt;
&lt;/perch:form&gt;
</code></pre>
<h3 id="comment-listing">Comment Listing</h3>
<p>A typical template might look like this:</p>
<pre><code class="lang-html">&lt;perch:before&gt;
  &lt;h2&gt;Comments&lt;/h2&gt;
  &lt;ul class=&quot;comments listing&quot;&gt;
&lt;/perch:before&gt;
    &lt;li id=&quot;comment&lt;perch:comments id=&quot;commentID&quot; type=&quot;hidden&quot;&gt;&quot;&gt;
      &lt;img src=&quot;//www.gravatar.com/avatar/&lt;perch:comments id=&quot;commentEmail&quot; type=&quot;email&quot; label=&quot;Email&quot; order=&quot;2&quot; hash=&quot;md5&quot; required&gt;?s=120&amp;d=mm&quot; width=&quot;60&quot; height=&quot;60&quot;&gt;
      &lt;div class=&quot;comment&quot;&gt;
        &lt;div class=&quot;commenter&quot;&gt;
          &lt;perch:if exists=&quot;commentURL&quot;&gt;&lt;a href=&quot;&lt;perch:comments id=&quot;commentURL&quot; type=&quot;url&quot; label=&quot;URL&quot; order=&quot;3&quot;&gt;&quot;&gt;&lt;/perch:if&gt;
            &lt;strong&gt;&lt;perch:comments id=&quot;commentName&quot; type=&quot;text&quot; label=&quot;Name&quot; order=&quot;1&quot; required&gt;:&lt;/strong&gt;
          &lt;perch:if exists=&quot;commentURL&quot;&gt;&lt;/a&gt;&lt;/perch:if&gt;
        &lt;/div&gt;
        &lt;p rel=&quot;bookmark&quot; class=&quot;date&quot;&gt;&lt;perch:comments id=&quot;commentDateTime&quot; format=&quot;%d %b %Y %X&quot; type=&quot;date&quot; time label=&quot;Date&quot;&gt;&lt;/p&gt;
        &lt;perch:comments id=&quot;commentHTML&quot; encode=&quot;false&quot; html type=&quot;textarea&quot; label=&quot;Message (HTML)&quot; order=&quot;4&quot; required&gt;
      &lt;/div&gt;
    &lt;/li&gt;
&lt;perch:after&gt;
  &lt;/ul&gt;
&lt;/perch:after&gt;
</code></pre>

</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>
