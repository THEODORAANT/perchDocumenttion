<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Contact Form Error Messaging - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="Contact Form Error Messaging">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://grabaperch.com/account">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li class="selected"><a href="/video/">Video</a></li>
        <li><a href="/templates/">Template Reference</a></li>
        <li><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
      <ul class="sidenav">
          <li>
              <a href="/video/getting-started/" class="selected">Getting Started</a>

                <ul class="video-nav">
                  <li>
                      <a href="/video/v3/getting-started">Getting Started</a>
                      <span class="badge">1:28</span>
                  </li>
                  <li>
                      <a href="/video/v3/installing-perch">Installing Perch</a>
                      <span class="badge">2:56</span>
                  </li>
                  <li>
                      <a href="/video/v3/editing-content">Editing Content</a>
                      <span class="badge">4:02</span>
                  </li>
                  <li>
                      <a href="/video/v3/creating-a-template">Creating a Template</a>
                      <span class="badge">8:41</span>
                  </li>
                  <li>
                      <a href="/video/v3/required-fields-conditionals">Required Fields and Conditionals</a>
                      <span class="badge">2:41</span>
                  </li>
                  <li>
                      <a href="/video/v3/creating-pages">Creating Pages</a>
                      <span class="badge">8:34</span>
                  </li>
                  <li>
                      <a href="/video/v3/contact-details">A contact details template</a>
                      <span class="badge">7:01</span>
                  </li>
                  <li>
                      <a href="/video/v3/shared-regions">Shared Regions</a>
                      <span class="badge">2:03</span>
                  </li>
                  <li>
                      <a href="/video/v3/google-map">A Google Map</a>
                      <span class="badge">3:58</span>
                  </li>
                  <li>
                      <a href="/video/v3/contact-form">A Contact Form</a>
                      <span class="badge">9:20</span>
                  </li>
                  <li class="selected">
                      <a href="/video/v3/form-error-messaging">Contact Form Error Messaging</a>
                      <span class="badge">6:17</span>
                  </li>
                  <li>
                      <a href="/video/v3/repeating-regions">Repeating Regions</a>
                      <span class="badge">5:32</span>
                  </li>
                  <li>
                      <a href="/video/v3/perch-repeaters">Perch Repeaters</a>
                      <span class="badge">5:04</span>
                  </li>
                  <li>
                      <a href="/video/v3/perch-content-custom">The perch_content_custom function</a>
                      <span class="badge">6:47</span>
                  </li>
                </ul>

          </li>
          <li>
              <a href="/video/blog/">Perch Blog</a>
          </li>
          <li>
              <a href="/video/runway/">Perch Runway</a>
          </li>
      </ul>
    </nav>

<article class="content">

  <h1>Contact Form Error Messaging</h1>

  <div class="video-wrapper">
    <div class="flex-video widescreen">
      <iframe src="https://www.youtube-nocookie.com/embed/WlrCRkXoYIM?showinfo=0&amp;rel=0" frameborder="0" allow="encrypted-media" gesture="media" allowfullscreen class="embed-responsive-item" width="847" height="476"></iframe>
    </div>
  </div>

  <div class="video-detail">
    <div class="inner-panel">
        <p>In the last video in this series, we created a form with a success message. However, if you try and submit the form without completing all the required fields it’s going to reload, which isn’t very friendly. We can use Perch forms to create clear error states for our forms.</p>
<p>Now I want to do two things here; I want to flag up some fields as being required, and show an error message. In addition to showing the message I display a background colour on the div that wraps the label and field, by adding a class to that element. </p>
<h2 id="showing-an-error-message">Showing an error message</h2>
<p>We can start by using the <code>&lt;perch:error&gt;&lt;/perch:error&gt;</code> tags to display an error message below any incorrectly completed fields.</p>
<p>The tags are a pair, with opening and closing tags, between the tags you can add your message and any markup needed to display it. We need to say which field the error message relates to, and also which error state. For the <code>name</code> field we want to check that the field has been completed, therefor the <code>type</code> attribute is set to <code>required</code> and the <code>for</code> attribute to <code>name</code>. In order for the error to be thrown we need to have <code>required</code> to the input field.</p>
<pre><code class="lang-html">&lt;div&gt;
  &lt;perch:label for=&quot;name&quot;&gt;Your name:&lt;/perch:label&gt;
    &lt;perch:input id=&quot;name&quot; type=&quot;text&quot; required label=&quot;Name&quot;&gt;
    &lt;perch:error for=&quot;name&quot; type=&quot;required&quot;&gt; 
    &lt;p class=&quot;about-error&quot;&gt;Please enter your name&lt;/p&gt;
    &lt;/perch:error&gt;
&lt;/div&gt;
</code></pre>
<p>For the email field we would like that field to be both required AND contain a valid looking email address. To do this we use two sets of <code>perch:error</code> tags. The first checking for the type of <code>required</code> and the second for a type of <code>format</code>. </p>
<pre><code class="lang-html">&lt;div&gt;
    &lt;perch:label for=&quot;email&quot;&gt;Your email:&lt;/perch:label&gt;
    &lt;perch:input id=&quot;email&quot; type=&quot;email&quot; required label=&quot;Email&quot;&gt;
    &lt;perch:error for=&quot;email&quot; type=&quot;required&quot;&gt; 
    &lt;p class=&quot;about-error&quot;&gt;Please enter your email address&lt;/p&gt;
    &lt;/perch:error&gt;
    &lt;perch:error for=&quot;email&quot; type=&quot;format&quot;&gt; 
    &lt;p class=&quot;about-error&quot;&gt;Please enter a valid email address&lt;/p&gt;
    &lt;/perch:error&gt;
&lt;/div&gt;
</code></pre>
<p>I mentioned that I also want to add a class when there has been an error. To do this you reuse the <code>perch:error</code> tags - this time to wrap the class. You can see this in the completed contact form template below.</p>
<pre><code class="lang-html">&lt;h2&gt;&lt;perch:content id=&quot;heading&quot; type=&quot;text&quot; label=&quot;Heading&quot; required&gt;&lt;/h2&gt;
&lt;perch:form id=&quot;form-contact&quot; method=&quot;post&quot; app=&quot;perch_forms&quot; role=&quot;form&quot;&gt;
  &lt;div class=&quot;input&lt;perch:error for=&quot;name&quot; type=&quot;required&quot;&gt; error&lt;/perch:error&gt;&quot;&gt;
    &lt;perch:label for=&quot;name&quot;&gt;Your name:&lt;/perch:label&gt;
    &lt;perch:input id=&quot;name&quot; type=&quot;text&quot; required label=&quot;Name&quot;&gt;
    &lt;perch:error for=&quot;name&quot; type=&quot;required&quot;&gt; 
    &lt;p class=&quot;about-error&quot;&gt;Please enter your name&lt;/p&gt;
    &lt;/perch:error&gt;
&lt;/div&gt;
&lt;div class=&quot;input&lt;perch:error for=&quot;email&quot; type=&quot;required&quot;&gt; error&lt;/perch:error&gt;&lt;perch:error for=&quot;email&quot; type=&quot;format&quot;&gt; error&lt;/perch:error&gt;&quot;&gt;
    &lt;perch:label for=&quot;email&quot;&gt;Your email:&lt;/perch:label&gt;
    &lt;perch:input id=&quot;email&quot; type=&quot;email&quot; required label=&quot;Email&quot;&gt;
    &lt;perch:error for=&quot;email&quot; type=&quot;required&quot;&gt; 
    &lt;p class=&quot;about-error&quot;&gt;Please enter your email address&lt;/p&gt;
    &lt;/perch:error&gt;
    &lt;perch:error for=&quot;email&quot; type=&quot;format&quot;&gt; 
    &lt;p class=&quot;about-error&quot;&gt;Please enter a valid email address&lt;/p&gt;
    &lt;/perch:error&gt;
&lt;/div&gt;
&lt;div class=&quot;input&lt;perch:error for=&quot;message&quot; type=&quot;required&quot;&gt; error&lt;/perch:error&gt;&quot;&gt;
    &lt;perch:label for=&quot;message&quot;&gt;Your message:&lt;/perch:label&gt;
    &lt;perch:input id=&quot;message&quot; type=&quot;textarea&quot; required label=&quot;Message&quot;&gt;
    &lt;perch:error for=&quot;message&quot; type=&quot;required&quot;&gt; 
    &lt;p class=&quot;about-error&quot;&gt;Please enter your message&lt;/p&gt;
    &lt;/perch:error&gt;
&lt;/div&gt;
&lt;perch:input type=&quot;submit&quot; id=&quot;submit&quot; value=&quot;Send&quot;&gt;

&lt;perch:success&gt;
&lt;div class=&quot;alert success&quot;&gt;
&lt;perch:content id=&quot;success&quot; type=&quot;textarea&quot; size=&quot;m&quot; label=&quot;Thank you message&quot; markdown editor=&quot;simplemde&quot; required&gt;
&lt;/div&gt;
&lt;/perch:success&gt;

&lt;/perch:form&gt;
</code></pre>



        <ul class="pagination-pointed pagination text-center" role="navigation" aria-label="Pagination">
            <li class="pagination-previous">
              <a class="pagination-pointed-button" href="/video/v3/contact-form" aria-label="Previous video">
                Previous<span class="show-for-sr"> video</span>
              </a>
            </li>
            <li class="pagination-next">
              <a class="pagination-pointed-button" href="/video/v3/repeating-regions" aria-label="Next video">
                Next<span class="show-for-sr"> video</span>
              </a>
            </li>
        </ul>

    </div>
    
  </div>




  
</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>