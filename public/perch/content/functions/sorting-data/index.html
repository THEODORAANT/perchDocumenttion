<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Sorting data - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="Sorting data">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
  

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://account.perchcms.com">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link selected"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li><a href="/video/">Video</a></li>
        <li><a href="/templates/">Template Reference</a></li>
        <li><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
    <ul class="sidenav">
                        <li>
                            <a href="/perch/getting-started/">Getting Started With Perch</a>
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/configuration/">Configuration</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/building/">Building Sites with Perch</a>
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/categories/">Categories</a>
                             
                        </li>
                        <li>
                            <a href="/perch/content/">Working with Content</a>
                            <ul>    <li>
                            <a href="/perch/content/functions/">Functions</a>
                            <ul>    <li>
                            <a href="/perch/content/functions/content-from-multiple-pages-and-regions/">Combining Content from Several Regions</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/create-a-prepopulated-region/">Pre-populating Template Regions</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/get-content-before-templating/">Accessing content before it is templated</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/how-do-i-add-an-rss-feed/">Adding an RSS Feed</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/how-do-i-create-a-faq/">Creating a FAQ</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/how-do-i-create-a-google-sitemap/">Create a Google Sitemap</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/how-do-i-create-list-detail-pages/">Create a list detail page</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/how-do-i-link-prev-next/">Previous and Next Links in content</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/passing-options-to-custom-functions/">How to pass options to custom functions</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/show-one-random-item/">Display an item at random</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/sorting-data/" class="selected">Sorting data</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/two-page-list-and-detail/">Two page list and detail</a>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/functions/user-filtered-lists/">A user-filtered list</a>
                        </li>
                    </ul>
                        </li>
                    </ul>
                            <ul>    <li>
                            <a href="/perch/content/templates/">Templates</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                    </ul>
                        </li>
                        <li>
                            <a href="/perch/control-panel/">The Perch Control Panel</a>
                             
                             
                             
                             
                             
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/help/">Troubleshooting Tips</a>
                        </li>
                        <li>
                            <a href="/perch/pages-and-nav/">Pages and Navigation</a>
                             
                             
                             
                             
                        </li>
                        <li>
                            <a href="/perch/resources/">Managing Resources</a>
                             
                        </li>
                        <li>
                            <a href="/perch/upgrading/">Upgrading to Perch 3</a>
                        </li>
    </ul>  </nav>

<article class="content">


  <h1>Sorting data</h1>

  <p>When you use <code>perch_content_custom</code>, <code>perch_collection</code> or any of the App custom functions you can use the options array to tell Perch the order you want the data returned in.</p>
<p>I have a template which allows data about sites to be leased to be entered as Perch Content. In that template we have:</p>
<ul>
<li>a name</li>
<li>number of bedrooms</li>
<li>a description</li>
<li>whether the apartment is leased or not</li>
</ul>
<p>These are represented by template IDs:</p>
<ul>
<li>apartmentname</li>
<li>rooms</li>
<li>description</li>
<li>leased</li>
</ul>
<pre><code class="lang-html">&lt;div class=&quot;apartment&quot;&gt;
  &lt;h3 class=&quot;&lt;perch:if id=&quot;leased&quot; value=&quot;yes&quot;&gt;leased&lt;perch:else&gt;available&lt;/perch:if&gt;&quot;&gt;&lt;perch:content id=&quot;apartmentname&quot; type=&quot;text&quot; label=&quot;Name&quot; required title&gt; &lt;span&gt;- &lt;perch:if id=&quot;leased&quot; value=&quot;yes&quot;&gt;leased&lt;perch:else&gt;available&lt;/perch:if&gt;&lt;/span&gt;&lt;/h3&gt;
  &lt;p&gt;No. of rooms: &lt;perch:content id=&quot;rooms&quot; type=&quot;text&quot; label=&quot;No. of bedrooms&quot; required size=&quot;s&quot;&gt;&lt;/p&gt;
  &lt;div class=&quot;description&quot;&gt;
    &lt;perch:content id=&quot;description&quot; type=&quot;textarea&quot; label=&quot;Description&quot; markdown editor=&quot;markitup&quot; required&gt;
  &lt;/div&gt;
&lt;/div&gt;
&lt;perch:content id=&quot;leased&quot; type=&quot;checkbox&quot; label=&quot;Apt. is leased&quot; value=&quot;yes&quot; suppress&gt;
</code></pre>
<p>To order your data you need to pass in two options as described in the documentation, ‘sort’ which is the ID of the data you want to use to sort the content, and ‘sort-order’ which should be one of the following values:</p>
<ul>
<li><code>ASC</code> – sort in ascending order</li>
<li><code>DESC</code> – sort in descending order</li>
<li><code>RAND</code> – sort in random order</li>
</ul>
<p>You can also pass in a third option <code>sort-type</code>. This can be either:</p>
<ul>
<li>alpha</li>
<li>numeric</li>
</ul>
<p>The default is alpha, so you only need to pass this in if you are dealing with something that is always a number so we can treat it as one when the data is sorted.</p>
<h2 id="sorting-in-practice">Sorting in practice</h2>
<p>If I want to display my apartments alphabetically by name (A to Z)</p>
<pre><code class="lang-php">&lt;?php perch_content_custom(&#39;Intro&#39;, array(
  &#39;page&#39; =&gt; &#39;/apartments&#39;,
  &#39;sort&#39; =&gt; &#39;apartmentname&#39;,
  &#39;sort-order&#39; =&gt; &#39;ASC&#39;,
  &#39;template&#39; =&gt; &#39;apartment.html&#39;
)); ?&gt;
</code></pre>
<p>If I want to reverse that and show them Z to A, I just change the sort-order.</p>
<pre><code class="lang-php">&lt;?php perch_content_custom(&#39;Intro&#39;, array(
  &#39;page&#39; =&gt; &#39;/apartments&#39;,
  &#39;sort&#39; =&gt; &#39;apartmentname&#39;,
  &#39;sort-order&#39; =&gt; &#39;DESC&#39;,
  &#39;template&#39; =&gt; &#39;apartment.html&#39;
)); ?&gt;
</code></pre>
<p>To show them with the smallest number of rooms first – and here I am adding the sort-type option set to numeric.</p>
<pre><code class="lang-php">&lt;?php perch_content_custom(&#39;Intro&#39;, array(
  &#39;page&#39; =&gt; &#39;/apartments&#39;,
  &#39;sort&#39; =&gt; &#39;rooms&#39;,
  &#39;sort-order&#39; =&gt; &#39;ASC&#39;,
  &#39;sort-type&#39; =&gt; &#39;numeric&#39;,
  &#39;template&#39; =&gt; &#39;apartment.html&#39;
)); ?&gt;
</code></pre>
<p>Here they are displayed with the largest number of rooms first.</p>
<pre><code class="lang-php">&lt;?php perch_content_custom(&#39;Intro&#39;, array(
  &#39;page&#39; =&gt; &#39;/apartments&#39;,
  &#39;sort&#39; =&gt; &#39;rooms&#39;,
  &#39;sort-order&#39; =&gt; &#39;DESC&#39;,
  &#39;sort-type&#39; =&gt; &#39;numeric&#39;,
  &#39;template&#39; =&gt; &#39;apartment.html&#39;
)); ?&gt;
</code></pre>

</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>
