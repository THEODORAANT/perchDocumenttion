<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>A Google Map - Perch CMS documentation</title>
  <meta name="description" content="Perch documentation">
  <meta property="og:title" content="A Google Map">
  <meta property="og:description" content="Perch documentation">
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <link href="/assets/css/docs.css" rel="stylesheet">
  <script type="text/javascript" src="//use.typekit.net/kiw6gix.js"></script>
  <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

</head>
<body>
  <nav class="global-bar show-for-small-only">
    <ul class="nav-products">
        <li class="docs"><a href="https://docs.grabaperch.com">Docs</a></li>
    </ul>
    <a href="?nav=show" class="hamburger">☰</a>
</nav>
<nav class="global-bar primary show-for-medium">
    <ul class="nav-products">
        <li class="perch"><a href="https://grabaperch.com">Perch</a></li>
        <li class="runway"><a href="https://perchrunway.com">Runway</a></li>
        <li class="shop"><a href="https://shop.perchcms.com">Perch Shop</a></li>
        <li class="addons first-right"><a href="https://grabaperch.com/add-ons">Add-ons</a></li>
        <li class="selected docs"><a href="https://docs.grabaperch.com">Docs</a></li>
        <li class="support"><a href="https://community.perchcms.com/forum/">Support</a></li>
        <li class="account"><a href="https://grabaperch.com/account">Account</a></li>
    </ul>
</nav>
<nav class="site-nav">
    <ul>
        <li class="home-link"><a href="/perch/">Perch Docs</a></li>
        <li><a href="/runway/">Runway Docs</a></li>
        <li class="selected"><a href="/video/">Video</a></li>
        <li><a href="/templates/">Template Reference</a></li>
        <li><a href="/functions/">Function Reference</a></li>
        <li><a href="/addons/">Add-ons</a></li>
        <li><a href="/api/">API</a></li>
    </ul>

    <div class="global-search" role="search">
      <div class="gcse-searchbox"></div>
    </div>

    <style>
      .custom-search {
        with
      }
  
      table.gsc-input {
        margin: 0;
        height: 1.5em;
      }

      form.gsc-search-box {
        margin: 0;
      }

      .gsc-search-box tbody {
        border: none;
      }

      .gsc-search-box tbody td {
        padding: 0;
      }

      .gsc-control-cse {
        padding: 0;
      }

      .gsc-input-box {
        border: none;
      }

      .gsc-search-box a {
        padding: 0;
      }
    </style>
</nav>

<div class="gcse-searchresults"></div>
<main class="wrapper">
    <nav class="sidebar">
      <ul class="sidenav">
          <li>
              <a href="/video/getting-started/" class="selected">Getting Started</a>

                <ul class="video-nav">
                  <li>
                      <a href="/video/v3/getting-started">Getting Started</a>
                      <span class="badge">1:28</span>
                  </li>
                  <li>
                      <a href="/video/v3/installing-perch">Installing Perch</a>
                      <span class="badge">2:56</span>
                  </li>
                  <li>
                      <a href="/video/v3/editing-content">Editing Content</a>
                      <span class="badge">4:02</span>
                  </li>
                  <li>
                      <a href="/video/v3/creating-a-template">Creating a Template</a>
                      <span class="badge">8:41</span>
                  </li>
                  <li>
                      <a href="/video/v3/required-fields-conditionals">Required Fields and Conditionals</a>
                      <span class="badge">2:41</span>
                  </li>
                  <li>
                      <a href="/video/v3/creating-pages">Creating Pages</a>
                      <span class="badge">8:34</span>
                  </li>
                  <li>
                      <a href="/video/v3/contact-details">A contact details template</a>
                      <span class="badge">7:01</span>
                  </li>
                  <li>
                      <a href="/video/v3/shared-regions">Shared Regions</a>
                      <span class="badge">2:03</span>
                  </li>
                  <li class="selected">
                      <a href="/video/v3/google-map">A Google Map</a>
                      <span class="badge">3:58</span>
                  </li>
                  <li>
                      <a href="/video/v3/contact-form">A Contact Form</a>
                      <span class="badge">9:20</span>
                  </li>
                  <li>
                      <a href="/video/v3/form-error-messaging">Contact Form Error Messaging</a>
                      <span class="badge">6:17</span>
                  </li>
                  <li>
                      <a href="/video/v3/repeating-regions">Repeating Regions</a>
                      <span class="badge">5:32</span>
                  </li>
                  <li>
                      <a href="/video/v3/perch-repeaters">Perch Repeaters</a>
                      <span class="badge">5:04</span>
                  </li>
                  <li>
                      <a href="/video/v3/perch-content-custom">The perch_content_custom function</a>
                      <span class="badge">6:47</span>
                  </li>
                </ul>

          </li>
          <li>
              <a href="/video/blog/">Perch Blog</a>
          </li>
          <li>
              <a href="/video/runway/">Perch Runway</a>
          </li>
      </ul>
    </nav>

<article class="content">

  <h1>A Google Map</h1>

  <div class="video-wrapper">
    <div class="flex-video widescreen">
      <iframe src="https://www.youtube-nocookie.com/embed/7-icJJaNa6I?showinfo=0&amp;rel=0" frameborder="0" allow="encrypted-media" gesture="media" allowfullscreen class="embed-responsive-item" width="847" height="476"></iframe>
    </div>
  </div>

  <div class="video-detail">
    <div class="inner-panel">
        <p>On our contact page we have a Google map. It shows the company location. Perch makes it really easy to add a Google map to your site. </p>
<p>The contact page in the starting point files has a Google map embedded. Let’s take that out, and instead add a new Perch region. We’ll call this one <code>map</code>. </p>
<p>Go back to our page and reload, the map will disappear. Then in the admin, we get our new region map. When selecting a template you can see there is already a map template there. What I’d like to do is edit that default template a little bit before we use it. We find the template in <code>perch/templates/content</code>, and you should find in there a file named <code>map.html</code>. Open that up, and edit it to look like the below code snippet:</p>
<pre><code class="lang-html">&lt;div class=&quot;frame&quot;&gt;
    &lt;perch:content id=&quot;map&quot; type=&quot;map&quot; label=&quot;Address&quot; width=&quot;560&quot; height=&quot;300&quot; zoom=&quot;15&quot;&gt;
&lt;/div&gt;
</code></pre>
<p>Save the template and then go back to the admin, select the Map template and hit submit. </p>
<p>You need to set up a Google API key in order to use Google maps. To get your Google maps API key, <a href="https://developers.google.com/maps/documentation/javascript/get-api-key">visit Google here</a>. </p>
<p>Once you’ve got your key, add it to <code>perch/config/config.php</code> replacing <code>abc123</code> with your key.</p>
<pre><code class="lang-php">define(&#39;PERCH_GMAPS_API_KEY&#39;, &#39;abc123&#39;);
</code></pre>
<p>The Perch Config file is often used in this way, you can think of it as a place to add settings that don’t need to be changed in the CMS.</p>
<p>With your key in place, you can then go back to the Perch admin. Reload the page and you should now be able to search for an address and zoom the map to the location you want to show on the page. We also use the static map tile, so if a visitor doesn’t have JavaScript, JavaScript doesn’t load, they’ll get the static map instead.</p>



        <ul class="pagination-pointed pagination text-center" role="navigation" aria-label="Pagination">
            <li class="pagination-previous">
              <a class="pagination-pointed-button" href="/video/v3/shared-regions" aria-label="Previous video">
                Previous<span class="show-for-sr"> video</span>
              </a>
            </li>
            <li class="pagination-next">
              <a class="pagination-pointed-button" href="/video/v3/contact-form" aria-label="Next video">
                Next<span class="show-for-sr"> video</span>
              </a>
            </li>
        </ul>

    </div>
    
  </div>




  
</article>




</main>
<footer>
</footer>
<script async src="https://cse.google.com/cse.js?cx=007560778035763025039:043iekruiov"></script>
<script src="/assets/js/prism.js" async defer></script>
<script>
    if ("classList" in document.createElement("_")) {
        var hb = document.querySelectorAll('.hamburger');
        if (hb.length) {
            hb[0].addEventListener('click', function(e) {
                e.preventDefault();
                var nav = document.querySelectorAll('nav.primary')[0];
                if (!nav.classList.contains('show')) {
                    nav.classList.remove('show-for-medium', 'hide');
                    nav.classList.add('show');
                } else {
                    nav.classList.remove('show');
                    nav.classList.add('hide');
                }
            });
        }
    }


        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-8618320-3']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

</script>
</body>
</html>